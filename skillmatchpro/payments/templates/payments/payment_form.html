<!-- payment_form.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Form</title>
</head>
<body>
    <h2>Make a Payment</h2>
    <form method="post" action="{% url 'payment' project_id %}">
        {% csrf_token %}
        
        <label for="payment_type">Payment Type:</label>
        <select name="payment_type" id="payment_type" required>
            <option value="offline">Offline</option>
            <option value="online">Online</option>
        </select><br>

        <label for="amount">Amount:</label>
        <input type="number" name="amount" id="amount" min="0.01" step="0.01" required><br>

        <!-- Card Details -->
        <div id="card_details" style="display: none;">
            <h3>Card Details</h3>
            <label for="card_number">Card Number:</label>
            <input type="text" name="card_number" id="card_number" pattern="\d{16}" title="Enter a 16-digit card number" required><br>

            <label for="expiry_date">Expiry Date:</label>
            <input type="text" name="expiry_date" id="expiry_date" placeholder="MM/YY" pattern="^(0[1-9]|1[0-2])\/\d{2}$" title="Enter a valid expiry date in MM/YY format" required><br>

            <label for="cvv">CVV:</label>
            <input type="text" name="cvv" id="cvv" pattern="\d{3}" title="Enter a 3-digit CVV" required><br>
        </div>

        <script>
            // Toggle card details based on payment type
            document.getElementById('payment_type').addEventListener('change', function() {
                var cardDetails = document.getElementById('card_details');
                cardDetails.style.display = this.value === 'online' ? 'block' : 'none';
            });
        </script>

        <input type="submit" value="Make Payment">
    </form>
</body>
</html>
